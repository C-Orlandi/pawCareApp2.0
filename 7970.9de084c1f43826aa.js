"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7970],{7970:(O,c,e)=>{e.r(c),e.d(c,{CarnetPage:()=>D});var m=e(467),_=e(2881),t=e(3092),F=e(9417),p=e(9107),h=e(7239),P=e.n(h),n=e(1360),C=e(9506);let D=(()=>{var l;class d{constructor(o){this.alertCtrl=o}ngOnInit(){const o=localStorage.getItem("mascotaSeleccionada");o&&(this.mascota=JSON.parse(o))}generarPDF(){var o=this;return(0,m.A)(function*(){const a=document.getElementById("carnetPDF");if(!a)throw o.mostrarAlerta("Error","No se encontr\xf3 el carnet para generar PDF"),new Error("Elemento carnetPDF no encontrado");const i=(yield P()(a,{scale:2})).toDataURL("image/png"),r=new p.Ay("p","mm","a4"),g=r.getImageProperties(i),E=r.internal.pageSize.getWidth();return r.addImage(i,"PNG",0,0,E,g.height*E/g.width),r})()}mostrarAlerta(o,a){var s=this;return(0,m.A)(function*(){yield(yield s.alertCtrl.create({header:o,message:a,buttons:["OK"]})).present()})()}}return(l=d).\u0275fac=function(o){return new(o||l)(n.rXU(C.hG))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-carnet"]],decls:60,vars:12,consts:[["color","tertiary"],[1,"ion-padding"],["id","carnetPDF"],[1,"carnet-card"],["alt","Foto de mascota",1,"foto-carnet",3,"src"],["lines","none"],["color","primary","expand","block",3,"click"]],template:function(o,a){1&o&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n.EFF(3),n.k0s()()(),n.j41(4,"ion-content",1)(5,"div",2)(6,"ion-card",3),n.nrm(7,"img",4),n.j41(8,"ion-card-header")(9,"ion-card-title"),n.EFF(10),n.k0s(),n.j41(11,"ion-card-subtitle"),n.EFF(12),n.k0s()(),n.j41(13,"ion-card-content")(14,"ion-list",5)(15,"ion-item")(16,"ion-label")(17,"strong"),n.EFF(18,"Especie:"),n.k0s()(),n.j41(19,"ion-text"),n.EFF(20),n.k0s()(),n.j41(21,"ion-item")(22,"ion-label")(23,"strong"),n.EFF(24,"Raza:"),n.k0s()(),n.j41(25,"ion-text"),n.EFF(26),n.k0s()(),n.j41(27,"ion-item")(28,"ion-label")(29,"strong"),n.EFF(30,"Sexo:"),n.k0s()(),n.j41(31,"ion-text"),n.EFF(32),n.k0s()(),n.j41(33,"ion-item")(34,"ion-label")(35,"strong"),n.EFF(36,"Color:"),n.k0s()(),n.j41(37,"ion-text"),n.EFF(38),n.k0s()(),n.j41(39,"ion-item")(40,"ion-label")(41,"strong"),n.EFF(42,"Nro. Chip:"),n.k0s()(),n.j41(43,"ion-text"),n.EFF(44),n.k0s()(),n.j41(45,"ion-item")(46,"ion-label")(47,"strong"),n.EFF(48,"Contacto Due\xf1o:"),n.k0s()(),n.j41(49,"ion-text"),n.EFF(50),n.k0s()(),n.j41(51,"ion-item")(52,"ion-label")(53,"strong"),n.EFF(54,"Due\xf1o:"),n.k0s()(),n.j41(55,"ion-text"),n.EFF(56),n.k0s()()()()()(),n.j41(57,"ion-content",1)(58,"ion-button",6),n.bIt("click",function(){return a.generarPDF()}),n.EFF(59," Descargar Carnet en PDF "),n.k0s()()()),2&o&&(n.R7$(3),n.SpI("Carnet de ",null==a.mascota?null:a.mascota.nombre,""),n.R7$(4),n.Y8G("src",(null==a.mascota?null:a.mascota.imagen)||"assets/mascotas/default.jpg",n.B4B),n.R7$(3),n.JRh(null==a.mascota?null:a.mascota.nombre),n.R7$(2),n.Lme("",null==a.mascota?null:a.mascota.tipo," - ",null==a.mascota?null:a.mascota.raza,""),n.R7$(8),n.JRh(null==a.mascota?null:a.mascota.tipo),n.R7$(6),n.JRh(null==a.mascota?null:a.mascota.raza),n.R7$(6),n.JRh(null==a.mascota?null:a.mascota.sexo),n.R7$(6),n.JRh(null==a.mascota?null:a.mascota.color),n.R7$(6),n.JRh((null==a.mascota?null:a.mascota.chip)||"No registrado"),n.R7$(6),n.JRh((null==a.mascota||null==a.mascota.dueno?null:a.mascota.dueno.contacto)||"Sin contacto"),n.R7$(6),n.JRh((null==a.mascota||null==a.mascota.dueno?null:a.mascota.dueno.nombre)||"No asignado"))},dependencies:[_.MD,t.bv,t.Jm,t.b_,t.I9,t.ME,t.HW,t.tN,t.W9,t.eU,t.uz,t.he,t.nf,t.IO,t.BC,t.ai,F.YN],styles:[".carnet-card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;text-align:center;border-radius:16px;overflow:hidden;box-shadow:0 6px 16px #00000026}.foto-carnet[_ngcontent-%COMP%]{width:100%;height:auto;max-height:250px;object-fit:cover;border-bottom:2px solid #ccc}ion-card-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:8px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0}"]}),d})()}}]);