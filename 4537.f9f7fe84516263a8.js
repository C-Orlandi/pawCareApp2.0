"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4537],{4537:(be,ge,f)=>{f.r(ge),f.d(ge,{GeolocalizacionPage:()=>De});var v=f(467),L=f(3092);const se=(0,f(5083).F3)("Geolocation",{web:()=>f.e(2920).then(f.bind(f,2920)).then(a=>new a.GeolocationWeb)});!function Me(a=!1){window.CapacitorUtils=window.CapacitorUtils||{},void 0===window.Capacitor||a?void 0!==window.cordova&&function me(a){a.CapacitorUtils.Synapse=new Proxy({},{get:(s,h)=>a.cordova.plugins[h]})}(window):function pe(a){a.CapacitorUtils.Synapse=new Proxy({},{get:(s,h)=>new Proxy({},{get:(e,i)=>(n,c,_)=>{const y=a.Capacitor.Plugins[h];void 0!==y?"function"==typeof y[i]?(0,v.A)(function*(){try{const M=yield y[i](n);c(M)}catch(M){_(M)}})():_(new Error(`Method ${i} not found in Capacitor plugin ${h}`)):_(new Error(`Capacitor plugin ${h} not found`))}})})}(window)}();var K=f(2881),U=f(9417),t=f(1660),r=f(1360),de=f(9377),C=f(4412),ze=f(1985),ye=(f(1413),f(4572),f(8359),f(5558)),P=f(6697);f(6354),f(6977);const o=["*"];class l{_clearListeners(){for(const s of this._listeners)s.remove();this._listeners=[]}constructor(s){(0,t.A)(this,"_ngZone",void 0),(0,t.A)(this,"_pending",[]),(0,t.A)(this,"_listeners",[]),(0,t.A)(this,"_targetStream",new C.t(void 0)),this._ngZone=s}getLazyEmitter(s){return this._targetStream.pipe((0,ye.n)(h=>{const e=new ze.c(i=>{if(!h)return void this._pending.push({observable:e,observer:i});const n=h.addListener(s,c=>{this._ngZone.run(()=>i.next(c))});if(n)return this._listeners.push(n),()=>n.remove();i.complete()});return e}))}setTarget(s){const h=this._targetStream.value;s!==h&&(h&&(this._clearListeners(),this._pending=[]),this._targetStream.next(s),this._pending.forEach(e=>e.observable.subscribe(e.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const m={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},p="500px",d="500px";let u=(()=>{var a;class s{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||m}constructor(){(0,t.A)(this,"_elementRef",(0,r.WQX)(r.aKT)),(0,t.A)(this,"_ngZone",(0,r.WQX)(r.SKi)),(0,t.A)(this,"_eventManager",new l((0,r.WQX)(r.SKi))),(0,t.A)(this,"_mapEl",void 0),(0,t.A)(this,"_existingAuthFailureCallback",void 0),(0,t.A)(this,"googleMap",void 0),(0,t.A)(this,"_isBrowser",void 0),(0,t.A)(this,"height",p),(0,t.A)(this,"width",d),(0,t.A)(this,"mapId",void 0),(0,t.A)(this,"mapTypeId",void 0),(0,t.A)(this,"_center",void 0),(0,t.A)(this,"_zoom",void 0),(0,t.A)(this,"_options",m),(0,t.A)(this,"mapInitialized",new r.bkB),(0,t.A)(this,"authFailure",new r.bkB),(0,t.A)(this,"boundsChanged",this._eventManager.getLazyEmitter("bounds_changed")),(0,t.A)(this,"centerChanged",this._eventManager.getLazyEmitter("center_changed")),(0,t.A)(this,"mapClick",this._eventManager.getLazyEmitter("click")),(0,t.A)(this,"mapDblclick",this._eventManager.getLazyEmitter("dblclick")),(0,t.A)(this,"mapDrag",this._eventManager.getLazyEmitter("drag")),(0,t.A)(this,"mapDragend",this._eventManager.getLazyEmitter("dragend")),(0,t.A)(this,"mapDragstart",this._eventManager.getLazyEmitter("dragstart")),(0,t.A)(this,"headingChanged",this._eventManager.getLazyEmitter("heading_changed")),(0,t.A)(this,"idle",this._eventManager.getLazyEmitter("idle")),(0,t.A)(this,"maptypeidChanged",this._eventManager.getLazyEmitter("maptypeid_changed")),(0,t.A)(this,"mapMousemove",this._eventManager.getLazyEmitter("mousemove")),(0,t.A)(this,"mapMouseout",this._eventManager.getLazyEmitter("mouseout")),(0,t.A)(this,"mapMouseover",this._eventManager.getLazyEmitter("mouseover")),(0,t.A)(this,"projectionChanged",this._eventManager.getLazyEmitter("projection_changed")),(0,t.A)(this,"mapRightclick",this._eventManager.getLazyEmitter("rightclick")),(0,t.A)(this,"tilesloaded",this._eventManager.getLazyEmitter("tilesloaded")),(0,t.A)(this,"tiltChanged",this._eventManager.getLazyEmitter("tilt_changed")),(0,t.A)(this,"zoomChanged",this._eventManager.getLazyEmitter("zoom_changed"));const e=(0,r.WQX)(r.Agw);if(this._isBrowser=(0,de.UE)(e),this._isBrowser){const i=window;this._existingAuthFailureCallback=i.gm_authFailure,i.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe((0,P.s)(1)).toPromise()}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":D(this.height)||p,e.width=null===this.width?"":D(this.width)||d}}_combineOptions(){var e,i;const n=this._options||{};return{...n,center:this._center||n.center||m.center,zoom:null!==(e=null!==(i=this._zoom)&&void 0!==i?i:n.zoom)&&void 0!==e?e:m.zoom,mapTypeId:this.mapTypeId||n.mapTypeId||m.mapTypeId,mapId:this.mapId||n.mapId}}_assertInitialized(){}}return a=s,(0,t.A)(s,"\u0275fac",function(e){return new(e||a)}),(0,t.A)(s,"\u0275cmp",r.VBU({type:a,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[r.OA$],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,i){1&e&&(r.NAR(),r.nrm(0,"div",0),r.SdG(1))},encapsulation:2,changeDetection:0})),s})();const A=/([A-Za-z%]+)$/;function D(a){return null==a?"":A.test(a)?a:`${a}px`}const x=new r.nKC("MAP_MARKER"),ve={position:{lat:37.421995,lng:-122.084092}};let ae=(()=>{var a;class s{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(){(0,t.A)(this,"_googleMap",(0,r.WQX)(u)),(0,t.A)(this,"_ngZone",(0,r.WQX)(r.SKi)),(0,t.A)(this,"_eventManager",new l((0,r.WQX)(r.SKi))),(0,t.A)(this,"_title",void 0),(0,t.A)(this,"_position",void 0),(0,t.A)(this,"_label",void 0),(0,t.A)(this,"_clickable",void 0),(0,t.A)(this,"_options",void 0),(0,t.A)(this,"_icon",void 0),(0,t.A)(this,"_visible",void 0),(0,t.A)(this,"animationChanged",this._eventManager.getLazyEmitter("animation_changed")),(0,t.A)(this,"mapClick",this._eventManager.getLazyEmitter("click")),(0,t.A)(this,"clickableChanged",this._eventManager.getLazyEmitter("clickable_changed")),(0,t.A)(this,"cursorChanged",this._eventManager.getLazyEmitter("cursor_changed")),(0,t.A)(this,"mapDblclick",this._eventManager.getLazyEmitter("dblclick")),(0,t.A)(this,"mapDrag",this._eventManager.getLazyEmitter("drag")),(0,t.A)(this,"mapDragend",this._eventManager.getLazyEmitter("dragend")),(0,t.A)(this,"draggableChanged",this._eventManager.getLazyEmitter("draggable_changed")),(0,t.A)(this,"mapDragstart",this._eventManager.getLazyEmitter("dragstart")),(0,t.A)(this,"flatChanged",this._eventManager.getLazyEmitter("flat_changed")),(0,t.A)(this,"iconChanged",this._eventManager.getLazyEmitter("icon_changed")),(0,t.A)(this,"mapMousedown",this._eventManager.getLazyEmitter("mousedown")),(0,t.A)(this,"mapMouseout",this._eventManager.getLazyEmitter("mouseout")),(0,t.A)(this,"mapMouseover",this._eventManager.getLazyEmitter("mouseover")),(0,t.A)(this,"mapMouseup",this._eventManager.getLazyEmitter("mouseup")),(0,t.A)(this,"positionChanged",this._eventManager.getLazyEmitter("position_changed")),(0,t.A)(this,"mapRightclick",this._eventManager.getLazyEmitter("rightclick")),(0,t.A)(this,"shapeChanged",this._eventManager.getLazyEmitter("shape_changed")),(0,t.A)(this,"titleChanged",this._eventManager.getLazyEmitter("title_changed")),(0,t.A)(this,"visibleChanged",this._eventManager.getLazyEmitter("visible_changed")),(0,t.A)(this,"zindexChanged",this._eventManager.getLazyEmitter("zindex_changed")),(0,t.A)(this,"markerInitialized",new r.bkB),(0,t.A)(this,"marker",void 0)}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,i])=>{this._initialize(e,i.Marker)})}))}_initialize(e,i){this._ngZone.runOutsideAngular(()=>{this.marker=new i(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){const{marker:i,_title:n,_position:c,_label:_,_clickable:y,_icon:M,_visible:I}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==n&&i.setTitle(n),e.position&&c&&i.setPosition(c),e.label&&void 0!==_&&i.setLabel(_),e.clickable&&void 0!==y&&i.setClickable(y),e.icon&&M&&i.setIcon(M),e.visible&&void 0!==I&&i.setVisible(I))}ngOnDestroy(){var e;this.markerInitialized.complete(),this._eventManager.destroy(),null===(e=this.marker)||void 0===e||e.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe((0,P.s)(1)).toPromise()}_combineOptions(){var e,i;const n=this._options||ve;return{...n,title:this._title||n.title,position:this._position||n.position,label:this._label||n.label,clickable:null!==(e=this._clickable)&&void 0!==e?e:n.clickable,map:this._googleMap.googleMap,icon:this._icon||n.icon,visible:null!==(i=this._visible)&&void 0!==i?i:n.visible}}_assertInitialized(){}}return a=s,(0,t.A)(s,"\u0275fac",function(e){return new(e||a)}),(0,t.A)(s,"\u0275dir",r.FsC({type:a,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[r.Jv_([{provide:x,useExisting:a}]),r.OA$]})),s})(),Ae=(()=>{var a;class s{}return a=s,(0,t.A)(s,"\u0275fac",function(e){return new(e||a)}),(0,t.A)(s,"\u0275mod",r.$C({type:a})),(0,t.A)(s,"\u0275inj",r.G2t({})),s})();var ke=f(7643);function Ce(a,s){1&a&&(r.j41(0,"div",13),r.nrm(1,"ion-spinner",14),r.j41(2,"p"),r.EFF(3,"Cargando veterinarias..."),r.k0s()())}function we(a,s){1&a&&(r.j41(0,"div",15),r.EFF(1," No se encontraron veterinarias con el filtro seleccionado. "),r.k0s())}function Ie(a,s){if(1&a&&(r.j41(0,"div",16),r.EFF(1),r.k0s()),2&a){const h=r.XpG();r.R7$(),r.E5c(" ",h.markers.length," resultado",h.markers.length>1?"s":""," encontrado",h.markers.length>1?"s":"",". ")}}function Le(a,s){if(1&a){const h=r.RV6();r.j41(0,"map-marker",17),r.bIt("mapClick",function(){const i=r.eBV(h).$implicit,n=r.XpG();return r.Njj(n.abrirGoogleMaps(i.placeId))}),r.k0s()}if(2&a){const h=s.$implicit;r.Y8G("position",h.position)("title",h.title)("options",h.options)}}let De=(()=>{var a;class s{constructor(e,i,n){this.alertCtrl=e,this.http=i,this.zone=n,this.userLat=0,this.userLng=0,this.zoom=14,this.center={lat:0,lng:0},this.markers=[],this.userMarker={position:{lat:0,lng:0},title:"Tu ubicaci\xf3n",options:{icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",clickable:!1,draggable:!1,optimized:!1}},this.radio=0,this.circle=null,this.tipoVeterinaria="",this.cargando=!1}ngOnInit(){var e=this;return(0,v.A)(function*(){yield e.obtenerUbicacion()})()}obtenerUbicacion(){var e=this;return(0,v.A)(function*(){try{const i=yield se.getCurrentPosition();e.userLat=i.coords.latitude,e.userLng=i.coords.longitude,e.center={lat:e.userLat,lng:e.userLng},e.userMarker.position={lat:e.userLat,lng:e.userLng},e.crearOActualizarCirculo()}catch{yield(yield e.alertCtrl.create({header:"Permiso requerido",message:"Debes permitir la ubicaci\xf3n para usar esta funci\xf3n.",buttons:["OK"]})).present()}})()}onRadioCambiar(e){this.zone.run(()=>{this.radio=e.detail.value,this.crearOActualizarCirculo(),this.buscarVeterinarias()})}crearOActualizarCirculo(){if(!this.userLat||!this.userLng)return;const e={strokeColor:"#3880ff",strokeOpacity:.8,strokeWeight:2,fillColor:"#3880ff",fillOpacity:.15,map:null,center:{lat:this.userLat,lng:this.userLng},radius:this.radio,clickable:!1,editable:!1,visible:!0,zIndex:1};this.circle?(this.circle.setCenter(e.center),this.circle.setRadius(this.radio)):this.circle=new google.maps.Circle(e)}onFiltroCambiar(){this.buscarVeterinarias()}buscarVeterinarias(){var e=this;this.tipoVeterinaria?(this.cargando=!0,this.markers=[],this.http.get("http://localhost:3000/api/veterinarias",{params:{location:`${this.userLat},${this.userLng}`,query:"domestico"===this.tipoVeterinaria?"veterinarias para mascotas domesticas":"veterinarias exoticas",radius:"30000"}}).subscribe(function(){var y=(0,v.A)(function*(M){console.log(`\u2705 Resultados para ${e.tipoVeterinaria}:`,M.results),e.markers=M.results.slice(0,100).map(I=>({position:{lat:I.geometry.location.lat,lng:I.geometry.location.lng},title:I.name,placeId:I.place_id,options:{icon:"domestico"===e.tipoVeterinaria?"http://maps.google.com/mapfiles/ms/icons/blue-dot.png":"http://maps.google.com/mapfiles/ms/icons/green-dot.png"}})),console.log("\u2705 Marcadores cargados:",e.markers),e.cargando=!1});return function(M){return y.apply(this,arguments)}}(),function(){var y=(0,v.A)(function*(M){console.error("\u274c Error al buscar veterinarias:",M),e.cargando=!1,yield(yield e.alertCtrl.create({header:"Error",message:"No se pudo cargar veterinarias desde el backend.",buttons:["OK"]})).present()});return function(M){return y.apply(this,arguments)}}())):this.markers=[]}estaDentroDelRadio(e,i){return!0}deg2rad(e){return e*(Math.PI/180)}abrirGoogleMaps(e){window.open(`https://www.google.com/maps/place/?q=place_id:${e}`,"_blank")}}return(a=s).\u0275fac=function(e){return new(e||a)(r.rXU(L.hG),r.rXU(ke.Qq),r.rXU(r.SKi))},a.\u0275cmp=r.VBU({type:a,selectors:[["app-geolocalizacion"]],decls:22,vars:10,consts:[["map",""],["color","tertiary"],[1,"ion-padding"],["placeholder","Selecciona un filtro...",3,"ngModelChange","ionChange","ngModel"],["value",""],["value","domestico"],["value","exotico"],["class","spinner-center",4,"ngIf"],["class","mensaje-vacio",4,"ngIf"],["class","mensaje-encontrados",4,"ngIf"],["height","400px","width","100%",3,"mapReady","center","zoom"],[3,"position","title","options"],[3,"position","title","options","mapClick",4,"ngFor","ngForOf"],[1,"spinner-center"],["name","crescent"],[1,"mensaje-vacio"],[1,"mensaje-encontrados"],[3,"mapClick","position","title","options"]],template:function(e,i){if(1&e){const n=r.RV6();r.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),r.EFF(3,"Veterinarias Cercanas"),r.k0s()()(),r.j41(4,"ion-content",2)(5,"ion-item")(6,"ion-label"),r.EFF(7,"Filtro veterinaria"),r.k0s(),r.j41(8,"ion-select",3),r.mxI("ngModelChange",function(_){return r.eBV(n),r.DH7(i.tipoVeterinaria,_)||(i.tipoVeterinaria=_),r.Njj(_)}),r.bIt("ionChange",function(){return r.eBV(n),r.Njj(i.onFiltroCambiar())}),r.j41(9,"ion-select-option",4),r.EFF(10,"Seleccionar"),r.k0s(),r.j41(11,"ion-select-option",5),r.EFF(12,"Dom\xe9stico"),r.k0s(),r.j41(13,"ion-select-option",6),r.EFF(14,"Ex\xf3tico"),r.k0s()()(),r.DNE(15,Ce,4,0,"div",7)(16,we,2,0,"div",8)(17,Ie,2,3,"div",9),r.j41(18,"google-map",10,0),r.bIt("mapReady",function(){return r.eBV(n),r.Njj(i.crearOActualizarCirculo())}),r.nrm(20,"map-marker",11),r.DNE(21,Le,1,3,"map-marker",12),r.k0s()()}2&e&&(r.R7$(8),r.R50("ngModel",i.tipoVeterinaria),r.R7$(7),r.Y8G("ngIf",i.cargando),r.R7$(),r.Y8G("ngIf",!i.cargando&&0===i.markers.length),r.R7$(),r.Y8G("ngIf",!i.cargando&&i.markers.length>0),r.R7$(),r.Y8G("center",i.center)("zoom",i.zoom),r.R7$(2),r.Y8G("position",i.userMarker.position)("title",i.userMarker.title)("options",i.userMarker.options),r.R7$(),r.Y8G("ngForOf",i.markers))},dependencies:[K.MD,K.Sq,K.bT,L.bv,L.W9,L.eU,L.uz,L.he,L.Nm,L.Ip,L.w2,L.BC,L.ai,L.Je,U.YN,U.BC,U.vS,Ae,u,ae],styles:[".spinner-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:var(--ion-color-medium);font-size:14px}.mensaje-vacio[_ngcontent-%COMP%]{text-align:center;margin:20px 0;color:var(--ion-color-medium);font-style:italic}.mensaje-encontrados[_ngcontent-%COMP%]{text-align:center;margin:10px 0 20px;color:var(--ion-color-success);font-weight:500}"]}),s})()},5083:(be,ge,f)=>{f.d(ge,{E_:()=>U,F3:()=>K});var v=f(467),L=function(g){return g.Unimplemented="UNIMPLEMENTED",g.Unavailable="UNAVAILABLE",g}(L||{});class ne extends Error{constructor(o,l,m){super(o),this.message=o,this.code=l,this.data=m}}const me=g=>{const o=g.CapacitorCustomPlatform||null,l=g.Capacitor||{},m=l.Plugins=l.Plugins||{},p=()=>null!==o?o.name:(g=>{var o,l;return null!=g&&g.androidBridge?"android":null!==(l=null===(o=null==g?void 0:g.webkit)||void 0===o?void 0:o.messageHandlers)&&void 0!==l&&l.bridge?"ios":"web"})(g),A=z=>{var k;return null===(k=l.PluginHeaders)||void 0===k?void 0:k.find(V=>V.name===z)},S=new Map;return l.convertFileSrc||(l.convertFileSrc=z=>z),l.getPlatform=p,l.handleError=z=>g.console.error(z),l.isNativePlatform=()=>"web"!==p(),l.isPluginAvailable=z=>{const k=S.get(z);return!!(null!=k&&k.platforms.has(p())||A(z))},l.registerPlugin=(z,k={})=>{const V=S.get(z);if(V)return console.warn(`Capacitor plugin "${z}" already registered. Cannot register plugins twice.`),V.proxy;const W=p(),Q=A(z);let x;const ve=function(){var w=(0,v.A)(function*(){return!x&&W in k?x=x="function"==typeof k[W]?yield k[W]():k[W]:null!==o&&!x&&"web"in k&&(x=x="function"==typeof k.web?yield k.web():k.web),x});return function(){return w.apply(this,arguments)}}(),oe=w=>{let E;const F=(...B)=>{const G=ve().then(R=>{const j=((w,E)=>{var F,B;if(!Q){if(w)return null===(B=w[E])||void 0===B?void 0:B.bind(w);throw new ne(`"${z}" plugin is not implemented on ${W}`,L.Unimplemented)}{const G=null==Q?void 0:Q.methods.find(R=>E===R.name);if(G)return"promise"===G.rtype?R=>l.nativePromise(z,E.toString(),R):(R,j)=>l.nativeCallback(z,E.toString(),R,j);if(w)return null===(F=w[E])||void 0===F?void 0:F.bind(w)}})(R,w);if(j){const he=j(...B);return E=null==he?void 0:he.remove,he}throw new ne(`"${z}.${w}()" is not implemented on ${W}`,L.Unimplemented)});return"addListener"===w&&(G.remove=(0,v.A)(function*(){return E()})),G};return F.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:w,writable:!1,configurable:!1}),F},ce=oe("addListener"),ue=oe("removeListener"),fe=(w,E)=>{const F=ce({eventName:w},E),B=function(){var R=(0,v.A)(function*(){const j=yield F;ue({eventName:w,callbackId:j},E)});return function(){return R.apply(this,arguments)}}(),G=new Promise(R=>F.then(()=>R({remove:B})));return G.remove=(0,v.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield B()}),G},le=new Proxy({},{get(w,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Q?fe:ce;case"removeListener":return ue;default:return oe(E)}}});return m[z]=le,S.set(z,{name:z,proxy:le,platforms:new Set([...Object.keys(k),...Q?[W]:[]])}),le},l.Exception=ne,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l},se=(g=>g.Capacitor=me(g))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),K=se.registerPlugin;class U{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(o,l){var m=this;let p=!1;this.listeners[o]||(this.listeners[o]=[],p=!0),this.listeners[o].push(l);const u=this.windowListeners[o];u&&!u.registered&&this.addWindowListener(u),p&&this.sendRetainedArgumentsForEvent(o);const A=function(){var S=(0,v.A)(function*(){return m.removeListener(o,l)});return function(){return S.apply(this,arguments)}}();return Promise.resolve({remove:A})}removeAllListeners(){var o=this;return(0,v.A)(function*(){o.listeners={};for(const l in o.windowListeners)o.removeWindowListener(o.windowListeners[l]);o.windowListeners={}})()}notifyListeners(o,l,m){const p=this.listeners[o];if(p)p.forEach(d=>d(l));else if(m){let d=this.retainedEventArguments[o];d||(d=[]),d.push(l),this.retainedEventArguments[o]=d}}hasListeners(o){var l;return!(null===(l=this.listeners[o])||void 0===l||!l.length)}registerWindowListener(o,l){this.windowListeners[l]={registered:!1,windowEventName:o,pluginEventName:l,handler:m=>{this.notifyListeners(l,m)}}}unimplemented(o="not implemented"){return new se.Exception(o,L.Unimplemented)}unavailable(o="not available"){return new se.Exception(o,L.Unavailable)}removeListener(o,l){var m=this;return(0,v.A)(function*(){const p=m.listeners[o];if(!p)return;const d=p.indexOf(l);m.listeners[o].splice(d,1),m.listeners[o].length||m.removeWindowListener(m.windowListeners[o])})()}addWindowListener(o){window.addEventListener(o.windowEventName,o.handler),o.registered=!0}removeWindowListener(o){o&&(window.removeEventListener(o.windowEventName,o.handler),o.registered=!1)}sendRetainedArgumentsForEvent(o){const l=this.retainedEventArguments[o];l&&(delete this.retainedEventArguments[o],l.forEach(m=>{this.notifyListeners(o,m)}))}}const r=g=>encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),de=g=>g.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class C extends U{getCookies(){return(0,v.A)(function*(){const o=document.cookie,l={};return o.split(";").forEach(m=>{if(m.length<=0)return;let[p,d]=m.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");p=de(p).trim(),d=de(d).trim(),l[p]=d}),l})()}setCookie(o){return(0,v.A)(function*(){try{const l=r(o.key),m=r(o.value),p=`; expires=${(o.expires||"").replace("expires=","")}`,d=(o.path||"/").replace("path=",""),u=null!=o.url&&o.url.length>0?`domain=${o.url}`:"";document.cookie=`${l}=${m||""}${p}; path=${d}; ${u};`}catch(l){return Promise.reject(l)}})()}deleteCookie(o){return(0,v.A)(function*(){try{document.cookie=`${o.key}=; Max-Age=0`}catch(l){return Promise.reject(l)}})()}clearCookies(){return(0,v.A)(function*(){try{const o=document.cookie.split(";")||[];for(const l of o)document.cookie=l.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(o){return Promise.reject(o)}})()}clearAllCookies(){var o=this;return(0,v.A)(function*(){try{yield o.clearCookies()}catch(l){return Promise.reject(l)}})()}}K("CapacitorCookies",{web:()=>new C});const T=function(){var g=(0,v.A)(function*(o){return new Promise((l,m)=>{const p=new FileReader;p.onload=()=>{const d=p.result;l(d.indexOf(",")>=0?d.split(",")[1]:d)},p.onerror=d=>m(d),p.readAsDataURL(o)})});return function(l){return g.apply(this,arguments)}}();class P extends U{request(o){return(0,v.A)(function*(){const l=((g,o={})=>{const l=Object.assign({method:g.method||"GET",headers:g.headers},o),p=((g={})=>{const o=Object.keys(g);return Object.keys(g).map(p=>p.toLocaleLowerCase()).reduce((p,d,u)=>(p[d]=g[o[u]],p),{})})(g.headers)["content-type"]||"";if("string"==typeof g.data)l.body=g.data;else if(p.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[u,A]of Object.entries(g.data||{}))d.set(u,A);l.body=d.toString()}else if(p.includes("multipart/form-data")||g.data instanceof FormData){const d=new FormData;if(g.data instanceof FormData)g.data.forEach((A,D)=>{d.append(D,A)});else for(const A of Object.keys(g.data))d.append(A,g.data[A]);l.body=d;const u=new Headers(l.headers);u.delete("content-type"),l.headers=u}else(p.includes("application/json")||"object"==typeof g.data)&&(l.body=JSON.stringify(g.data));return l})(o,o.webFetchExtra),m=((g,o=!0)=>g?Object.entries(g).reduce((m,p)=>{const[d,u]=p;let A,D;return Array.isArray(u)?(D="",u.forEach(S=>{A=o?encodeURIComponent(S):S,D+=`${d}=${A}&`}),D.slice(0,-1)):(A=o?encodeURIComponent(u):u,D=`${d}=${A}`),`${m}&${D}`},"").substr(1):null)(o.params,o.shouldEncodeUrlParams),p=m?`${o.url}?${m}`:o.url,d=yield fetch(p,l),u=d.headers.get("content-type")||"";let D,S,{responseType:A="text"}=d.ok?o:{};switch(u.includes("application/json")&&(A="json"),A){case"arraybuffer":case"blob":S=yield d.blob(),D=yield T(S);break;case"json":D=yield d.json();break;default:D=yield d.text()}const X={};return d.headers.forEach((z,k)=>{X[k]=z}),{data:D,headers:X,status:d.status,url:d.url}})()}get(o){var l=this;return(0,v.A)(function*(){return l.request(Object.assign(Object.assign({},o),{method:"GET"}))})()}post(o){var l=this;return(0,v.A)(function*(){return l.request(Object.assign(Object.assign({},o),{method:"POST"}))})()}put(o){var l=this;return(0,v.A)(function*(){return l.request(Object.assign(Object.assign({},o),{method:"PUT"}))})()}patch(o){var l=this;return(0,v.A)(function*(){return l.request(Object.assign(Object.assign({},o),{method:"PATCH"}))})()}delete(o){var l=this;return(0,v.A)(function*(){return l.request(Object.assign(Object.assign({},o),{method:"DELETE"}))})()}}K("CapacitorHttp",{web:()=>new P})}}]);