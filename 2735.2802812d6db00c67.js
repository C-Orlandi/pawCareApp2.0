"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2735],{2735:(v,u,o)=>{o.r(u),o.d(u,{ResetpasswordPage:()=>h});var g=o(467),m=o(2881),a=o(9417),_=o(8032),p=o.n(_),t=o(3092),e=o(1360),f=o(4796);function E(s,c){if(1&s&&(e.j41(0,"ion-text",12)(1,"p",13),e.EFF(2),e.k0s()()),2&s){const l=e.XpG();e.R7$(2),e.JRh(l.getEmailErrorMessage())}}let h=(()=>{var s;class c{constructor(r,n,i,d){this.fb=r,this.authService=n,this.loadingCtrl=i,this.menuCtrl=d,this.resetForm=this.fb.group({email:["",[a.k0.required,a.k0.email]]})}ngOnInit(){this.menuCtrl.enable(!1)}getEmailErrorMessage(){const r=this.resetForm.get("email");return null!=r&&r.hasError("required")?"El correo es obligatorio.":null!=r&&r.hasError("email")?"El correo no tiene un formato v\xe1lido.":""}resetPassword(){var r=this;return(0,g.A)(function*(){if(r.resetForm.invalid)return;const n=yield r.loadingCtrl.create({message:"Enviando correo..."});yield n.present();const{email:i}=r.resetForm.value;try{yield r.authService.recoveryPassword(i),yield n.dismiss(),p().fire({icon:"success",title:"Correo enviado",text:"Revisa tu bandeja de entrada para restablecer tu contrase\xf1a.",confirmButtonText:"OK",heightAuto:!1})}catch(d){yield n.dismiss(),console.error("\u{1f525} Error al enviar correo de recuperaci\xf3n:",d),p().fire({icon:"error",title:"Error",text:"No se pudo enviar el correo. Verifica que est\xe9 bien escrito o intenta m\xe1s tarde.",confirmButtonText:"OK",heightAuto:!1})}})()}}return(s=c).\u0275fac=function(r){return new(r||s)(e.rXU(a.ok),e.rXU(f.u),e.rXU(t.Xi),e.rXU(t._t))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-resetpassword"]],decls:20,vars:5,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],[1,"banner-container"],["src","../../../assets/img/","alt","Banner recuperar contrase\xf1a",1,"banner-image"],[1,"ion-padding"],[1,"ion-text-center"],[3,"ngSubmit","formGroup"],["position","floating"],["type","email","formControlName","email","required",""],["color","danger",4,"ngIf"],[1,"ion-text-center",2,"margin-top","20px"],["type","submit","expand","block",3,"disabled"],["color","danger"],[1,"ion-padding-start"]],template:function(r,n){if(1&r&&(e.nrm(0,"ion-header",0),e.j41(1,"ion-content",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"ion-card",4)(5,"ion-card-header")(6,"ion-card-title",5),e.EFF(7,"\xbfOlvidaste tu contrase\xf1a?"),e.k0s(),e.j41(8,"ion-card-subtitle",5),e.EFF(9," Ingresa tu correo y te enviaremos un enlace de recuperaci\xf3n "),e.k0s()(),e.j41(10,"ion-card-content")(11,"form",6),e.bIt("ngSubmit",function(){return n.resetPassword()}),e.j41(12,"ion-item")(13,"ion-label",7),e.EFF(14,"Correo electr\xf3nico"),e.k0s(),e.nrm(15,"ion-input",8),e.k0s(),e.DNE(16,E,3,1,"ion-text",9),e.j41(17,"div",10)(18,"ion-button",11),e.EFF(19," Enviar correo "),e.k0s()()()()()()),2&r){let i;e.Y8G("translucent",!0),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(10),e.Y8G("formGroup",n.resetForm),e.R7$(5),e.Y8G("ngIf",(null==(i=n.resetForm.get("email"))?null:i.invalid)&&(null==(i=n.resetForm.get("email"))?null:i.touched)),e.R7$(2),e.Y8G("disabled",n.resetForm.invalid)}},dependencies:[m.MD,m.bT,t.bv,t.Jm,t.b_,t.I9,t.ME,t.HW,t.tN,t.W9,t.eU,t.$w,t.uz,t.he,t.IO,t.Gw,a.X1,a.qT,a.BC,a.cb,a.YS,a.j4,a.JD],styles:["ion-card[_ngcontent-%COMP%]{margin-top:40px;padding:16px;border-radius:12px;box-shadow:0 4px 8px #0000001a}ion-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:4px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:gray;margin-bottom:16px}ion-button[_ngcontent-%COMP%]{margin-top:10px;--background: var(--ion-color-primary);--border-radius: 8px;font-weight:600}.banner-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-bottom:16px}.banner-image[_ngcontent-%COMP%]{width:100%;max-height:180px;object-fit:cover;border-radius:12px}"]}),c})()}}]);